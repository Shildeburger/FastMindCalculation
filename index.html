<!DOCTYPE html>
<html>
<head>
    <title>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è */
        .level-selector {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .level-btn {
            font-size: 16px;
            padding: 12px 25px;
            margin: 8px;
            cursor: pointer;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            background: white;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .level-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .level-btn.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        
        .level-btn.easy { border-left: 4px solid #28a745; }
        .level-btn.medium { border-left: 4px solid #ffc107; }
        .level-btn.hard { border-left: 4px solid #dc3545; }
        
        .level-btn.easy.active { background: #28a745; border-color: #28a745; }
        .level-btn.medium.active { background: #ffc107; border-color: #ffc107; }
        .level-btn.hard.active { background: #dc3545; border-color: #dc3545; }
        
        /* –ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞ */
        .game-container {
            margin: 30px auto;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 3px solid #e9ecef;
            min-height: 250px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .problem {
            font-size: 36px;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            min-width: 600px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .input-group {
            margin: 20px 0;
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        input {
            font-size: 24px;
            padding: 15px;
            width: 120px;
            text-align: center;
            border: 2px solid #ced4da;
            border-radius: 8px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            border-color: #4CAF50;
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        
        .game-btn {
            font-size: 18px;
            padding: 12px 25px;
            margin: 10px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background: #007bff;
            color: white;
            transition: all 0.3s;
        }
        
        .game-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
        }
        
        .game-btn.check { background: #28a745; }
        .game-btn.next { background: #17a2b8; }
        .game-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .feedback {
            font-size: 20px;
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            min-height: 30px;
            font-weight: 500;
        }
        
        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .timer {
            position: relative;
            bottom: 85px;
            right: 255px;
            width: 75px;
            height: 75px;
        }

        .circle {
            width: 100%;
            height: 100%;
            border: 10px solid #3498db;
            border-radius: 50%;
            box-sizing: border-box;
            animation: rotate 60s linear infinite;
        }

        #time {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2em;
            color: #3498db;
        }

        .stats {
            margin-top: 20px;
            font-size: 16px;
            color: #6c757d;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .game-container {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <h1>üéØ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</h1>
    
    <!-- –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
    <div class="level-selector">
        <h3>–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</h3>
        <button class="level-btn easy active" data-level="easy">üçÉ –õ—ë–≥–∫–∏–π</button>
        <button class="level-btn medium" data-level="medium">üåø –°—Ä–µ–¥–Ω–∏–π</button>
        <button class="level-btn hard" data-level="hard">üî• –¢—è–∂—ë–ª—ã–π</button>
    </div>
    
    <!-- –ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞ -->
    <div class="game-container">
        <div class="problem" id="problem">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</div>
        
        <div class="input-group">
            <input type="number" id="answer" placeholder="–û—Ç–≤–µ—Ç" disabled>
            <button class="game-btn check" id="check" disabled>‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <button class="game-btn next" id="next" disabled>‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π</button>
        </div>
        
        <div class="feedback" id="feedback"></div>
        
        <div class="timer">
            <div class="circle"></div>
            <span id="time">30</span>
        </div>

        <div class="stats">
            –ü—Ä–∞–≤–∏–ª—å–Ω–æ: <span id="correct">0</span> | 
            –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: <span id="incorrect">0</span> |
            –ë–∞–ª–ª—ã: <span id="points">0</span>
        </div>
    </div>

    <script>
        // –ö–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ—Ä–æ–≤
        let score = { correct: 0, incorrect: 0, points: 0};
        let timerInterval;
        let timeLeft = 30;
        function getRandomInRange(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        function oneone() {
            const onenum1 = getRandomInRange(1, 9);
            const onenum2 = getRandomInRange(1, 9);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum1} + ${onenum2}`,
                    answer: onenum1 + onenum2
                };
            } else {
                if (onenum1 - onenum2 >= 0) {
                    return {
                        problem: `${onenum1} - ${onenum2}`,
                        answer: onenum1 - onenum2
                    };
                } else {
                    return {
                        problem: `${onenum2} - ${onenum1}`,
                        answer: onenum2 - onenum1
                    };
                }
            }
        }
        
        function twotwo() {
            const twonum1 = getRandomInRange(10, 99);
            const twonum2 = getRandomInRange(10, 99);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${twonum1} + ${twonum2}`,
                    answer: twonum1 + twonum2
                };
            } else {
                if (twonum1 - twonum2 >= 0) {
                    return {
                        problem: `${twonum1} - ${twonum2}`,
                        answer: twonum1 - twonum2
                    };
                } else {
                    return {
                        problem: `${twonum2} - ${twonum1}`,
                        answer: twonum2 - twonum1
                    };
                }
            }
        }
        
        function twoone() {
            const onenum = getRandomInRange(1, 9);
            const twonum = getRandomInRange(10, 99);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum} + ${twonum}`,
                    answer: onenum + twonum
                };
            } else {
                return {
                    problem: `${twonum} - ${onenum}`,
                    answer: twonum - onenum
                };
            }
        }
        
        function twoononemult9() {
            const onenum = getRandomInRange(1, 9);
            const twonum = getRandomInRange(10, 99);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum} √ó 9`,
                    answer: onenum * 9
                };
            } else {
                return {
                    problem: `${twonum} √ó 9`,
                    answer: twonum * 9
                };
            }
        }
        
        function twoononemult11() {
            const onenum = getRandomInRange(1, 9);
            const twonum = getRandomInRange(10, 99);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum} √ó 11`,
                    answer: onenum * 11
                };
            } else {
                return {
                    problem: `${twonum} √ó 11`,
                    answer: twonum * 11
                };
            }
        }
        
        function threethree() {
            const onenum1 = getRandomInRange(100, 999);      
            const onenum2 = getRandomInRange(100, 999);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum1} + ${onenum2}`,
                    answer: onenum1 + onenum2
                };
            } else {
                if (onenum1 - onenum2 >= 0) {
                    return {
                        problem: `${onenum1} - ${onenum2}`,
                        answer: onenum1 - onenum2
                    };
                } else {
                    return {
                        problem: `${onenum2} - ${onenum1}`,
                        answer: onenum2 - onenum1
                    };
                }
            }     
        }
        
        function threeMultDivision2 () {
            const onenum1 = getRandomInRange(100, 999);      
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum1} * 2`,
                    answer: onenum1 * 2
                };
            } else {
                return {
                    problem: `${onenum1} / 2`,
                    answer: onenum1 / 2
                }
            }     
        }
        
        function fivefive() {
            const onenum1 = getRandomInRange(10000, 99999);      
            const onenum2 = getRandomInRange(10000, 99999);
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum1} + ${onenum2}`,
                    answer: onenum1 + onenum2
                };
            } else {
                if (onenum1 - onenum2 >= 0) {
                    return {
                        problem: `${onenum1} - ${onenum2}`,
                        answer: onenum1 - onenum2
                    };
                } else {
                    return {
                        problem: `${onenum2} - ${onenum1}`,
                        answer: onenum2 - onenum1
                    };
                }
            }     
        }

        function fiveMultDivision2() {
            const onenum1 = getRandomInRange(10000, 99999);      
            let typeofcalc = getRandomInRange(0, 1);                                
            if (typeofcalc == 0) {
                return {
                    problem: `${onenum1} * 2`,
                    answer: onenum1 * 2
                };
            } else {
                return {
                    problem: `${onenum1} / 2`,
                    answer: onenum1 / 2
                }
            }     
        }

        // –ö–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
        let currentLevel = 'easy';
        let currentProblem;
        
        // –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ—Ä–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è
        function generateProblemByLevel() {
            switch(currentLevel) {
                case 'easy':
                    const easyOptions = [oneone, twotwo, twoone, twoononemult9, twoononemult11];
                    return easyOptions[getRandomInRange(0, 4)]();
                
                case 'medium':
                    const mediumOptions = [threethree, threeMultDivision2];
                    return mediumOptions[getRandomInRange(0, 1)]();
                
                case 'hard':
                    const hardOptions = [fivefive, fiveMultDivision2];
                    return hardOptions[getRandomInRange(0, 1)]();                
                default:
                    return oneone();
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞
        function updateProblem() {
            currentProblem = generateProblemByLevel();
            document.getElementById('problem').textContent = currentProblem.problem;
            document.getElementById('answer').value = '';
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤–≤–æ–¥–∞
            document.getElementById('answer').disabled = false;
            document.getElementById('check').disabled = false;
            document.getElementById('next').disabled = true; // –°–ª–µ–¥—É—é—â–∏–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
            
            document.getElementById('answer').focus();

            startTimer();
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è
        document.querySelectorAll('.level-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                clearInterval(timerInterval);
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                document.querySelectorAll('.level-btn').forEach(b => {
                    b.classList.remove('active');
                });
                this.classList.add('active');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
                currentLevel = this.dataset.level;
                
                // –ï—Å–ª–∏ –∏–≥—Ä–∞ —É–∂–µ –Ω–∞—á–∞—Ç–∞, —Å—Ä–∞–∑—É –æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏–º–µ—Ä
                if (!document.getElementById('check').disabled) {
                    updateProblem();
                }
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–∞
        document.getElementById('check').addEventListener('click', function() {
            clearInterval(timerInterval);
            const userAnswer = parseFloat(document.getElementById('answer').value);
            const feedbackEl = document.getElementById('feedback');
            
            if (isNaN(userAnswer)) {
                feedbackEl.textContent = '–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!';
                feedbackEl.className = 'feedback incorrect';
                return;
            }
            
            if (Math.abs(userAnswer - currentProblem.answer) < 0.001) {
                let pointsEarned = 0;
                switch(currentLevel) {
                    case 'easy': pointsEarned = 1; break;
                    case 'medium': pointsEarned = 2; break;
                    case 'hard': pointsEarned = 3; break;
                }
                score.points += pointsEarned;
                feedbackEl.textContent = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
                feedbackEl.className = 'feedback correct';
                score.correct++;
            } else {
                feedbackEl.textContent = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${currentProblem.answer}`;
                feedbackEl.className = 'feedback incorrect';
                score.incorrect++;
            }
            
            document.getElementById('correct').textContent = score.correct;
            document.getElementById('incorrect').textContent = score.incorrect;
            document.getElementById('points').textContent = score.points;
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏
            document.getElementById('answer').disabled = true;
            document.getElementById('check').disabled = true;
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É "–°–ª–µ–¥—É—é—â–∏–π"
            document.getElementById('next').disabled = false;
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
        document.getElementById('next').addEventListener('click', function() {
            updateProblem();
        });
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
        updateProblem();
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
        document.getElementById('answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const checkBtn = document.getElementById('check');
                const nextBtn = document.getElementById('next');
                if (!checkBtn.disabled) {
                    checkBtn.click();
                    setTimeout(() => nextBtn.focus(), 100);
                } else if (!nextBtn.disabled) {
                    nextBtn.click();
                }
            }
        });
        // –¢–∞–π–º–µ—Ä
        function endGame() {
            updateProblem();
            score.incorrect++;
            document.getElementById('incorrect').textContent = score.incorrect;
        }
        function startTimer () {
            clearInterval (timerInterval);
            timeLeft = 30;
            document.getElementById('time').textContent = timeLeft;
            timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('time').textContent = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endGame();
                }
            }, 1000);
        }

    </script>
</body>
</html>